# Фильтры изображений

В данном коде представлены фильтры для изменения изображенийж

На данный момент есть следующие фильтры: пикселизация, Блюр Гаусса, Негатив, окраска в серый, повыщение резкости, превращение в контурное изображение, обрезка

## Класс представления картинки PictureInfo

Класс состоит из 3-х частей:

-Объект класса **BMPFileHeader**, содержащий информацию о заголовке файла

-Объект класса **BMPInfoHeader**, содержащий информацию о заголовке изображения

-Матрица изображения, состоящая из объектов класса **Pixel**, который представляет цвет каждого пикселя

Так же в файле с классом написаны некоторые обозначения типов, которые часто используются в проекте
(зачастую написаны просто более короткие или более понятные в рамках данного проекта названия)

## Контроль входящих данных

Вся информация, поступающая на ввод, обрабатывается с помощью класса **Controller**. Класс делает следующее:

-Обрабатывает входящую информацию

-Вызывает фильтры и другие вспомогательные классы

-Следит за корректностью данных, поступающих для фильтров

-Обрабатывает ошибки, вызванные в других частях программы

## Загрузка и выгрузка изображения

Первые два аргумента команды должны быть путями к изменяемому изображению и куда сохранять измененное изображение соответственно.
За эти два аргумента и отвечает класс **InputProcessing**. 

1) Функция **ProcessBMPFile** отвечает за считывание информации из файла с изображением. В ней также проверяется:

-Существование файла по заданному пути

-Принадлежность файла к формату BMP

-Существование изображения в данном файле

-Корректность размера изображения: Если ширина изображения не кратна 4 байтам, это учитывается при обработке данных

В случае перечисленных ошибок исключение посылается в ControlParameters, где в дальнейшем обрабатывается

После проверки изображение преобразуется в матрицу, а данные записываются в объект класса PictureInfo

2) Функция **SaveBMPFile** отвечает за сохранение изображения по заданному пути. В ней проверяется:

-Корректность размеров изображения: в случае, если ширина изображения не кратна 4 байтам, недостающие байты добавляются

После проверки данные записываются по указанному пути

## Фильтры

У всех фильтров есть один общий предок, от которого они все наследуются: GeneralFilterMethods. 

### Описание функций:

-Стандартный конструктор, принимающий на вход структуру типа PictureInfo(картинка)

-Метод **Sync**, синхронизирующий данные структуры с фактическими данными

-Метод **CheckingBorders**, который определяет значение каждого пикселя (для фильтров с матрицами 3 на 3)

Далее идет описание всех фильтров со способами их применения.

**NegativeFilter** (-neg): строит негатив изображения. На вход функции подается PictureInfo

**GrayScaleFilter** (-gs): окрашивает картинку в серые тона. На вход подается PictureInfo

**SharpeningFilter** (-sharp): увеличивает резкость изображения.  На вход подается PictureInfo

**EdgeDetectionFilter** (-edge threshold): окрашивает картинку в серый и выделяет белым те пиксели, значение которых больше threshold, и черным иначе.
На вход подается PictureInfo и целочисленный параметр threshold. Если параметр не целочисленный, то вызывается исключение

**GaussianBlurFilter** (-blur sigma): размывает картинку.  На вход подается PictureInfo и положительный параметр sigma. В случае отрицательности значения 0 у сигмы вызывается исключение

**CropFilter** (-crop x_crop y_crop):  Обрезает изображение до заданных x_crop y_crop.  На вход подается PictureInfo и натуральные x_crop y_crop. В случае ненатуральности параметров вызывается исключение

**PixelizeFilter** (-pix block): Пикселизирует изображения с размером квардрата block.  На вход подается PictureInfo и натуральный параметр block. В случае ненатруальности block вызывается исключение



